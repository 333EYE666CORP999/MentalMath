# Problem Generation

[toc]

# Definitions

1. Problem - arithmetical challenge, generated by the system

# Rationale

As discussed at the very beginning, all problem generation logic should be abstracted to separate namespace. This will allow for scalability so the mobile teams would only have to write frontend. Game aspects such as:

1. Problem generation
2. Problem solution check
3. Score tracking
4. Statistics
5. Analytics
6. Insights

will be stored in separate package written in [Rust](https://www.rust-lang.org). See technical consideration of selectig Rust as a primary language for game logic in [Core in Rust](./4_4_TDR%3A%20Core%20in%20Rust.md).

This document is concentrated mainly on how numbers are generated, breaking down the generation anatomy.

# Enforcing Methodology in Code

todo: Write legend for points in text that signify that certain line of methodology should be covered with unit-test

# Problem Generation Methodology

In general, problem generation flow can be enumerated by the follwing steps:

1. Determining the operation
2. Selecting digits capacity
3. Defining the series' upper and lower bounds for random number selection
4. Pikcing random number from the series
5. Optional zero-check for division operations

## Determining the operation

The operation is selected randomly from the finite set of [basic arithmetic operations](https://en.wikipedia.org/wiki/Arithmetic#:~:text=The%20main%20arithmetic%20operations%20are,subtraction%2C%20multiplication%2C%20and%20division.). The best way to do implement this in an enum.

## Selecting digits capacity

Digits capacity is selected based on provided max digits count number. Capacity is selected randomly from a finite ascendingly sorted series of numbers where the first number is always 1 and the last number is the maximum capacity that can be selected.

## Defining the series' upper and lower bounds for random number selection

Upper and lower bounds of number selection series are determined via formulas:

- $10^{\text{minValueExponent}}$

- $10^{\text{maxValueExponent}} - 1$

## Pikcing random number from the series

## Optional zero-check for division operations

# Division Over Multiplication

## Avoid Zero RHSs

## Avoid Fractional Solution